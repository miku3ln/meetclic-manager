if(window.google&&google.maps){function MultiGeometry(e){function o(e,o){var n=new google.maps.Polyline(e);return google.maps.event.addListener(n,"click",function(e){google.maps.event.trigger(o,"click",e)}),google.maps.event.addListener(n,"dblclick",function(e){google.maps.event.trigger(o,"dblclick",e)}),google.maps.event.addListener(n,"mousedown",function(e){google.maps.event.trigger(o,"mousedown",e)}),google.maps.event.addListener(n,"mousemove",function(e){google.maps.event.trigger(o,"mousemove",e)}),google.maps.event.addListener(n,"mouseout",function(e){google.maps.event.trigger(o,"mouseout",e)}),google.maps.event.addListener(n,"mouseover",function(e){google.maps.event.trigger(o,"mouseover",e)}),google.maps.event.addListener(n,"mouseup",function(e){google.maps.event.trigger(o,"mouseup",e)}),google.maps.event.addListener(n,"rightclick",function(e){google.maps.event.trigger(o,"rightclick",e)}),n}for(this.setValues(e),this.polylines=[],i=0;i<this.paths.length;i++){var n=e;n.path=this.paths[i];var t=o(n,this);this.polylines.push(t)}}MultiGeometry.prototype=new google.maps.MVCObject,MultiGeometry.prototype.changed=function(e){if(this.polylines)for(var o=0;o<this.polylines.length;o++)this.polylines[o].set(e,this.get(e))},MultiGeometry.prototype.setMap=function(e){this.set("map",e)},MultiGeometry.prototype.getMap=function(){return this.get("map")}}function ProjectedOverlay(e,o,n,t){google.maps.OverlayView.call(this),this.map_=e,this.url_=o,this.bounds_=n,this.addZ_=t.addZoom||"",this.id_=t.id||this.url_,this.percentOpacity_=t.percentOpacity||50,this.rotation_=t.rotation||0,this.setMap(e)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),geoXML3=window.geoXML3||{instances:[]},geoXML3.parser=function(e){google.maps.MVCObject.call(this);var o,n=geoXML3.combineOptions(e,{singleInfoWindow:!1,processStyles:!0,zoom:!0}),t=[];void 0===n.suppressInfoWindows&&(n.suppressInfoWindows=!1),!n.infoWindow&&n.singleInfoWindow&&window.google&&google.maps&&(n.infoWindow=new google.maps.InfoWindow),geoXML3.xhrTimeout=6e4,n.xhrTimeout&&(geoXML3.xhrTimeout=n.xhrTimeout);function r(e,o){geoXML3.fetchXML(e,function(e){p(e,o)})}var i={color:"ff000000",colorMode:"normal",width:1,fill:!0,outline:!0,fillcolor:"3fff0000"};function s(e,o,n){var t=geoXML3.nodeValue;o[n]=o[n]||a(i);var r=e.getElementsByTagName("IconStyle");return r&&r.length&&r.length>0&&(o[n].scale=parseFloat(t(r[0].getElementsByTagName("scale")[0]))),isNaN(o[n].scale)&&(o[n].scale=1),(r=e.getElementsByTagName("Icon"))&&r.length&&r.length>0&&(o[n].href=t(r[0].getElementsByTagName("href")[0])),(r=e.getElementsByTagName("LineStyle"))&&r.length&&r.length>0&&(o[n].color=t(r[0].getElementsByTagName("color")[0],i.color),o[n].colorMode=t(r[0].getElementsByTagName("colorMode")[0],i.colorMode),o[n].width=t(r[0].getElementsByTagName("width")[0],i.width)),(r=e.getElementsByTagName("PolyStyle"))&&r.length&&r.length>0&&(o[n].outline=g(r[0].getElementsByTagName("outline")[0],i.outline),o[n].fill=g(r[0].getElementsByTagName("fill")[0],i.fill),o[n].colorMode=t(r[0].getElementsByTagName("colorMode")[0],i.colorMode),o[n].fillcolor=t(r[0].getElementsByTagName("color")[0],i.fillcolor)),o[n]}function a(e){if(null==e||"object"!=typeof e)return e;var o=new e.constructor;for(var n in e)o[n]=a(e[n]);return o}function l(e,o,t){for(var r=geoXML3.nodeValue,l=e.getElementsByTagName("Pair"),g=new Object,d=0;d<l.length;d++){var p=r(l[d].getElementsByTagName("key")[0]),m=r(l[d].getElementsByTagName("Style")[0]),c=r(l[d].getElementsByTagName("styleUrl")[0]);m?s(m,g[p],t):c&&o[c]&&(g[p]=a(o[c]))}g.normal?o[t]=a(g.normal):o[t]=a(i),g.highlight&&n.processStyles&&h(g.highlight),o[t].map=a(g)}function g(e){var o=geoXML3.nodeValue(e);return!o||(o&&(o=parseInt(o)),!!isNaN(o)||0!=o)}function d(e,o){for(var n=e.getElementsByTagName(o),t=[],r=0;r<n.length;r++){var i=n[r].getElementsByTagName("coordinates");if(!i){if(t.length>0)break;return[{coordinates:[]}]}for(var s=0;s<i.length;s++){for(var a=geoXML3.nodeValue(i[s]).trim(),l=(a=a.replace(/,\s+/g,",")).split(/\s+/g),g=l.length,d=[],p=0;p<g;p++)a=l[p].split(","),isNaN(a[0])||isNaN(a[1])||d.push({lat:parseFloat(a[1]),lng:parseFloat(a[0]),alt:parseFloat(a[2])});t.push({coordinates:d})}}return t}var p=function(e,r){if(e&&"failed parse"!=e){if(!r)throw"geoXML3 internal error: render called with null document";var g={};r.placemarks=[],r.groundoverlays=[],r.ggroundoverlays=[],r.networkLinks=[],r.gpolygons=[],r.gpolylines=[],r.markers=[];var p,m,c,L,M,b,k=geoXML3.nodeValue;for(nodes=e.getElementsByTagName("Style"),nodeCount=nodes.length,R=0;R<nodeCount;R++){thisNode=nodes[R],(B=thisNode.getAttribute("id"))&&(p="#"+B,s(thisNode,g,p))}for(nodes=e.getElementsByTagName("StyleMap"),R=0;R<nodes.length;R++){var B;thisNode=nodes[R],(B=thisNode.getAttribute("id"))&&(p="#"+B,l(thisNode,g,p))}if(r.styles=g,!n.processStyles&&n.createMarker||f(r),r.reload&&r.markers)for(R=0;R<r.markers.length;R++)r.markers[R].active=!1;var O,T=e.getElementsByTagName("Placemark");for(pm=0;pm<T.length;pm++){m=T[pm],(L={name:geoXML3.nodeValue(m.getElementsByTagName("name")[0]),description:geoXML3.nodeValue(m.getElementsByTagName("description")[0]),styleUrl:geoXML3.nodeValue(m.getElementsByTagName("styleUrl")[0]),id:m.getAttribute("id")}).style=r.styles[L.styleUrl]||a(i);var X=m.getElementsByTagName("Style");if(X&&X.length>0){var P=s(m,r.styles,"inline");h(P),P&&(L.style=P)}/^https?:\/\//.test(L.description)&&(L.description=['<a href="',L.description,'">',L.description,"</a>"].join(""));var N=m.getElementsByTagName("coordinates");if(N&&N.length>0)for(var E=0;E<N.length;E++){if(N[E].parentNode&&N[E].parentNode.nodeName)switch(N[E].parentNode.nodeName){case"Point":L.Point=d(m,"Point")[0],window.google&&google.maps&&(L.latlng=new google.maps.LatLng(L.Point.coordinates[0].lat,L.Point.coordinates[0].lng)),1;break;case"LinearRing":b=m.getElementsByTagName("Polygon"),L.Polygon||(L.Polygon=[{outerBoundaryIs:{coordinates:[]},innerBoundaryIs:[{coordinates:[]}]}]);for(var x=0;x<b.length;x++)L.Polygon[x]={outerBoundaryIs:{coordinates:[]},innerBoundaryIs:[{coordinates:[]}]},L.Polygon[x].outerBoundaryIs=d(b[x],"outerBoundaryIs"),L.Polygon[x].innerBoundaryIs=d(b[x],"innerBoundaryIs");L.Polygon[0].outerBoundaryIs;break;case"LineString":0,L.LineString=d(m,"LineString")}else;}if(n.pmParseFn&&n.pmParseFn(m,L),r.placemarks.push(L),window.google&&google.maps){if(L.Point)if(window.google&&google.maps&&(r.bounds=r.bounds||new google.maps.LatLngBounds,r.bounds.extend(L.latlng)),n.createMarker)n.createMarker(L,r);else{var W=!1;if(r&&(r.markers=r.markers||[],r.reload))for(var _=0;_<r.markers.length;_++)if(r.markers[_].id==L.id||!r.markers[_].id&&r.markers[_].getPosition().equals(L.latlng)){W=r.markers[_].active=!0;break}W||(M=u(L,r))&&(M.active=!0,M.id=L.id)}L.Polygon&&(r&&(r.gpolygons=r.gpolygons||[]),n.createPolygon?c=n.createPolygon(L,r):(c=w(L,r)).active=!0,window.google&&google.maps&&(r.bounds=r.bounds||new google.maps.LatLngBounds,r.bounds.union(c.bounds))),L.LineString&&(r&&(r.gpolylines=r.gpolylines||[]),n.createPolyline?c=n.createPolyline(L,r):(c=v(L,r)).active=!0,window.google&&google.maps&&(r.bounds=r.bounds||new google.maps.LatLngBounds,r.bounds.union(c.bounds)))}}if(r.reload&&r.markers)for(R=r.markers.length-1;R>=0;R--)r.markers[R].active||(r.markers[R].infoWindow&&r.markers[R].infoWindow.close(),r.markers[R].setMap(null),r.markers.splice(R,1));if(r.reload&&r.groundoverlays)for(R=0;R<r.groundoverlays.length;R++)r.groundoverlays[R].active=!1;r&&(r.groundoverlays=r.groundoverlays||[]);var S,I=e.getElementsByTagName("GroundOverlay");for(R=0;R<I.length;R++){m=I[R],O={name:geoXML3.nodeValue(m.getElementsByTagName("name")[0]),description:geoXML3.nodeValue(m.getElementsByTagName("description")[0]),icon:{href:geoXML3.nodeValue(m.getElementsByTagName("href")[0])},latLonBox:{north:parseFloat(geoXML3.nodeValue(m.getElementsByTagName("north")[0])),east:parseFloat(geoXML3.nodeValue(m.getElementsByTagName("east")[0])),south:parseFloat(geoXML3.nodeValue(m.getElementsByTagName("south")[0])),west:parseFloat(geoXML3.nodeValue(m.getElementsByTagName("west")[0]))}},window.google&&google.maps&&(r.bounds=r.bounds||new google.maps.LatLngBounds,r.bounds.union(new google.maps.LatLngBounds(new google.maps.LatLng(O.latLonBox.south,O.latLonBox.west),new google.maps.LatLng(O.latLonBox.north,O.latLonBox.east))));var V=m.getElementsByTagName("color");if(V&&V.length&&V.length>0?O.opacity=geoXML3.getOpacity(k(V[0])):O.opacity=.45,r.groundoverlays.push(O),window.google&&google.maps){if(n.createOverlay)n.createOverlay(O,r);else{W=!1;if(r)if(r.groundoverlays=r.groundoverlays||[],window.google&&google.maps&&r.reload)for(overlayBounds=new google.maps.LatLngBounds(new google.maps.LatLng(O.latLonBox.south,O.latLonBox.west),new google.maps.LatLng(O.latLonBox.north,O.latLonBox.east)),R=(j=r.groundoverlays).length;R--;)if(j[R].bounds().equals(overlayBounds)&&j.url_===O.icon.href){W=j[R].active=!0;break}W||(y(O,r).active=!0)}if(r.reload&&r.groundoverlays&&r.groundoverlays.length){var j;for(R=(j=r.groundoverlays).length;R--;)j[R].active||(j[R].remove(),j.splice(R,1));r.groundoverlays=j}}}var z=document.location.pathname.split("/");z=z.splice(0,z.length-1).join("/");var F=e.getElementsByTagName("NetworkLink");for(R=0;R<F.length;R++)m=F[R],""===(S={name:geoXML3.nodeValue(m.getElementsByTagName("name")[0]),link:{href:geoXML3.nodeValue(m.getElementsByTagName("href")[0]),refreshMode:geoXML3.nodeValue(m.getElementsByTagName("refreshMode")[0])}}).link.refreshMode&&(S.link.refreshMode="onChange"),"onInterval"===S.link.refreshMode?(S.link.refreshInterval=parseFloat(geoXML3.nodeValue(m.getElementsByTagName("refreshInterval")[0])),isNaN(S.link.refreshInterval)&&(S.link.refreshInterval=0)):"onChange"===S.link.refreshMode&&(S.link.viewRefreshMode=geoXML3.nodeValue(m.getElementsByTagName("viewRefreshMode")[0]),""===S.link.viewRefreshMode&&(S.link.viewRefreshMode="never"),"onStop"===S.link.viewRefreshMode&&(S.link.viewRefreshTime=geoXML3.nodeValue(m.getElementsByTagName("refreshMode")[0]),S.link.viewFormat=geoXML3.nodeValue(m.getElementsByTagName("refreshMode")[0]),""===S.link.viewFormat&&(S.link.viewFormat="BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]"))),/^[\/|http]/.test(S.link.href)||(S.link.href=z+"/"+S.link.href),"onInterval"===S.link.refreshMode&&S.link.refreshInterval>0?setInterval(o+'.parse("'+S.link.href+'")',1e3*S.link.refreshInterval):"onChange"===S.link.refreshMode&&("never"===S.link.viewRefreshMode?r.internals.parser.parse(S.link.href,r.internals.docSet):S.link.viewRefreshMode)}else geoXML3.log("Unable to retrieve "+r.url),n.failedParse&&n.failedParse(r);if(r.bounds&&window.google&&google.maps&&(r.internals.bounds=r.internals.bounds||new google.maps.LatLngBounds,r.internals.bounds.union(r.bounds)),(r.markers||r.groundoverlays||r.gpolylines||r.gpolygons)&&(r.internals.parseOnly=!1),r.internals.remaining-=1,0===r.internals.remaining){if(n.zoom&&r.internals.bounds&&!r.internals.bounds.isEmpty()&&n.map&&n.map.fitBounds(r.internals.bounds),n.afterParse&&n.afterParse(r.internals.docSet),!r.internals.parseOnly)for(var R=0;R<r.internals.docSet.length;R++)t.push(r.internals.docSet[R]);google.maps.event.trigger(r.internals.parser,"parsed")}},m=function(e,o){var n={},t=(e=e||"ffffffff").substr(0,2),r=e.substr(2,2),i=e.substr(4,2),s=e.substr(6,2);return n.opacity=parseInt(t,16)/256,n.color="random"===o?c(s,i,r):"#"+s+i+r,n},c=function(e,o,n){var t={rr:e,gg:o,bb:n};for(var r in t){var i=t[r];null==i&&(i="ff"),1===(i=Math.round(Math.random()*parseInt(e,16)).toString(16)).length&&(i="0"+i),t[r]=i}return"#"+t.rr+t.gg+t.bb},h=function(e){if(window.google&&google.maps){var o=new google.maps.Point(0,0);if(e.href){if(/\/(red|blue|green|yellow|lightblue|purple|pink|orange|pause|go|stop)(-dot)?\.png/.test(e.href))var n=new google.maps.Point(16*e.scale,32*e.scale);else n=new google.maps.Point(16*e.scale,16*e.scale);e.icon={url:e.href,size:new google.maps.Size(32*e.scale,32*e.scale),origin:o,anchor:n,scaledSize:new google.maps.Size(32*e.scale,32*e.scale)};var t=new google.maps.Size(59,32),r=new google.maps.Point(16,32);/\/(red|blue|green|yellow|lightblue|purple|pink|orange)(-dot)?\.png/.test(e.href)?e.shadow={url:"http://maps.google.com/mapfiles/ms/micons/msmarker.shadow.png",size:t,origin:o,anchor:r,scaledSize:t}:e.href.indexOf("-pushpin.png")>-1?e.shadow={url:"http://maps.google.com/mapfiles/ms/micons/pushpin_shadow.png",size:t,origin:o,anchor:r,scaledSize:t}:e.shadow={url:e.href.replace(".png",".shadow.png"),size:t,origin:o,anchor:r,scaledSize:t}}}},f=function(e){for(var o in e.styles)h(e.styles[o])},u=function(e,o){var t=geoXML3.combineOptions(n.markerOptions,{map:n.map,position:new google.maps.LatLng(e.Point.coordinates[0].lat,e.Point.coordinates[0].lng),title:e.name,zIndex:Math.round(-1e5*e.Point.coordinates[0].lat)<<5,icon:e.style.icon,shadow:e.style.shadow}),r=new google.maps.Marker(t);if(o&&o.markers.push(r),!n.suppressInfoWindows){var i=geoXML3.combineOptions(n.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+e.name+"</h3><div>"+e.description+"</div></div>",pixelOffset:new google.maps.Size(0,2)});n.infoWindow?r.infoWindow=n.infoWindow:r.infoWindow=new google.maps.InfoWindow(i),r.infoWindowOptions=i,google.maps.event.addListener(r,"click",function(){this.infoWindow.close(),r.infoWindow.setOptions(this.infoWindowOptions),this.infoWindow.open(this.map,this)})}return e.marker=r,r},y=function(e,o){if(!window.ProjectedOverlay)throw"geoXML3 error: ProjectedOverlay not found while rendering GroundOverlay from KML";var t=new google.maps.LatLngBounds(new google.maps.LatLng(e.latLonBox.south,e.latLonBox.west),new google.maps.LatLng(e.latLonBox.north,e.latLonBox.east)),r=geoXML3.combineOptions(n.overlayOptions,{percentOpacity:100*e.opacity}),i=new ProjectedOverlay(n.map,e.icon.href,t,r);return o&&(o.ggroundoverlays=o.ggroundoverlays||[],o.ggroundoverlays.push(i)),i},v=function(e,o){for(var t=[],r=new google.maps.LatLngBounds,i=0;i<e.LineString.length;i++){for(var s=[],a=e.LineString[i].coordinates,l=0;l<a.length;l++){var g=new google.maps.LatLng(a[l].lat,a[l].lng);s.push(g),r.extend(g)}t.push(s)}var d=t[0][Math.floor(s.length/2)],p=m(e.style.color,e.style.colorMode),c=geoXML3.combineOptions(n.polylineOptions,{map:n.map,strokeColor:p.color,strokeWeight:e.style.width,strokeOpacity:p.opacity,title:e.name});if(t.length>1){c.paths=t;var h=new MultiGeometry(c)}else{c.path=t[0];h=new google.maps.Polyline(c)}if(h.bounds=r,!n.suppressInfoWindows){var f=geoXML3.combineOptions(n.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+e.name+"</h3><div>"+e.description+"</div></div>",pixelOffset:new google.maps.Size(0,2)});n.infoWindow?h.infoWindow=n.infoWindow:h.infoWindow=new google.maps.InfoWindow(f),h.infoWindowOptions=f,google.maps.event.addListener(h,"click",function(e){h.infoWindow.close(),h.infoWindow.setOptions(h.infoWindowOptions),e&&e.latLng?h.infoWindow.setPosition(e.latLng):h.infoWindow.setPosition(d),h.infoWindow.open(h.map||h.polylines[0].map)})}return o&&o.gpolylines.push(h),e.polyline=h,h},w=function(e,o){for(var t=new google.maps.LatLngBounds,r=[],i=0;i<e.Polygon.length;i++){for(var s=0;s<e.Polygon[i].outerBoundaryIs.length;s++){for(var a=e.Polygon[i].outerBoundaryIs[s].coordinates,l=[],g=0;g<a.length;g++){var d=new google.maps.LatLng(a[g].lat,a[g].lng);l.push(d),t.extend(d)}r.push(l),l.length}for(s=0;s<e.Polygon[i].innerBoundaryIs.length;s++){for(a=e.Polygon[i].innerBoundaryIs[s].coordinates,l=[],g=0;g<a.length;g++){d=new google.maps.LatLng(a[g].lat,a[g].lng);l.push(d),t.extend(d)}r.push(l),l.length}}var p=m(e.style.color,e.style.colorMode),c=m(e.style.fillcolor,e.style.colorMode);e.style.fill||(c.opacity=0);var h=e.style.width;e.style.outline||(h=0,p.opacity=0);var f=geoXML3.combineOptions(n.polygonOptions,{map:n.map,paths:r,title:e.name,strokeColor:p.color,strokeWeight:h,strokeOpacity:p.opacity,fillColor:c.color,fillOpacity:c.opacity}),u=new google.maps.Polygon(f);if(u.bounds=t,!n.suppressInfoWindows){var y=geoXML3.combineOptions(n.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+e.name+"</h3><div>"+e.description+"</div></div>",pixelOffset:new google.maps.Size(0,2)});n.infoWindow?u.infoWindow=n.infoWindow:u.infoWindow=new google.maps.InfoWindow(y),u.infoWindowOptions=y,google.maps.event.addListener(u,"click",function(e){u.infoWindow.close(),u.infoWindow.setOptions(u.infoWindowOptions),e&&e.latLng?u.infoWindow.setPosition(e.latLng):u.infoWindow.setPosition(u.bounds.getCenter()),u.infoWindow.open(this.map)})}return o&&o.gpolygons.push(u),e.polygon=u,u};return{options:n,docs:t,parse:function(e,i){o||(o="geoXML3.instances["+(geoXML3.instances.push(this)-1)+"]"),"string"==typeof e&&(e=[e]);for(var s,a,l={parser:this,docSet:i||[],remaining:e.length,parseOnly:!(n.afterParse||n.processStyles)},g=0;g<e.length;g++){var d=e[g].split("?")[0];for(a=0;a<t.length;a++)if(d===t[a].baseUrl){(s=t[a]).reload=!0;break}a>=t.length&&((s=new Object).baseUrl=d,l.docSet.push(s)),s.url=e[g],s.internals=l;var p=s.url;n.proxy&&(p=n.proxy+s.url),r(p,s)}},render:p,parseKmlString:function(e,o){var t={parser:this,docSet:o||[],remaining:1,parseOnly:!(n.afterParse||n.processStyles)};thisDoc=new Object,thisDoc.internals=t,t.docSet.push(thisDoc),p(geoXML3.xmlParse(e),thisDoc)},hideDocument:function(e){var o;if(e||(e=t[0]),window.google&&google.maps){if(e.markers)for(o=0;o<e.markers.length;o++)e.markers[o].infoWindow&&e.markers[o].infoWindow.close(),e.markers[o].setVisible(!1);if(e.ggroundoverlays)for(o=0;o<e.ggroundoverlays.length;o++)e.ggroundoverlays[o].setOpacity(0);if(e.gpolylines)for(o=0;o<e.gpolylines.length;o++)e.gpolylines[o].infoWindow&&e.gpolylines[o].infoWindow.close(),e.gpolylines[o].setMap(null);if(e.gpolygons)for(o=0;o<e.gpolygons.length;o++)e.gpolygons[o].infoWindow&&e.gpolygons[o].infoWindow.close(),e.gpolygons[o].setMap(null)}},showDocument:function(e){var o;if(e||(e=t[0]),window.google&&google.maps){if(e.markers)for(o=0;o<e.markers.length;o++)e.markers[o].setVisible(!0);if(e.ggroundoverlays)for(o=0;o<e.ggroundoverlays.length;o++)e.ggroundoverlays[o].setOpacity(e.ggroundoverlays[o].percentOpacity_);if(e.gpolylines)for(o=0;o<e.gpolylines.length;o++)e.gpolylines[o].setMap(n.map);if(e.gpolygons)for(o=0;o<e.gpolygons.length;o++)e.gpolygons[o].setMap(n.map)}},processStyles:f,createMarker:u,createOverlay:y,createPolyline:v,createPolygon:w}},geoXML3.getOpacity=function(e){return e&&""!==e&&8==e.length?parseInt(e.substr(0,2),16)/255:1},geoXML3.log=function(e){window.console?console.log(e):alert("log:"+e)},geoXML3.combineOptions=function(e,o){var n={};if(e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(o)for(t in o)o.hasOwnProperty(t)&&void 0===n[t]&&(n[t]=o[t]);return n},geoXML3.fetchers=[],geoXML3.xmlParse=function(e){if("undefined"!=typeof ActiveXObject||"ActiveXObject"in window){var o=new ActiveXObject("Microsoft.XMLDOM");return o.loadXML(e),o}return"undefined"!=typeof DOMParser?(new DOMParser).parseFromString(e,"text/xml"):document.createElement("div",null)},geoXML3.isParseError=function(e){if("undefined"!=typeof ActiveXObject||"ActiveXObject"in window)return!1;var o=(new DOMParser).parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI;return"http://www.w3.org/1999/xhtml"===o?e.getElementsByTagName("parsererror").length>0:e.getElementsByTagNameNS(o,"parsererror").length>0},geoXML3.fetchXML=function(e,o){var n=new Object;geoXML3.fetchers.length?n=geoXML3.fetchers.pop():window.XMLHttpRequest?n.fetcher=new window.XMLHttpRequest:window.ActiveXObject&&(n.fetcher=new window.ActiveXObject("Microsoft.XMLHTTP")),n.fetcher?(n.fetcher.open("GET",e,!0),n.fetcher.overrideMimeType&&n.fetcher.overrideMimeType("text/xml"),n.fetcher.onreadystatechange=function(){if(4===n.fetcher.readyState){if(n.xhrtimeout&&clearTimeout(n.xhrtimeout),n.fetcher.status>=400)geoXML3.log("HTTP error "+n.fetcher.status+" retrieving "+e),o();else{var t=geoXML3.xmlParse(n.fetcher.responseText);t.parseError&&0!=t.parseError.errorCode?(geoXML3.log("XML parse error "+t.parseError.errorCode+", "+t.parseError.reason+"\nLine:"+t.parseError.line+", Position:"+t.parseError.linepos+", srcText:"+t.parseError.srcText),t="failed parse"):geoXML3.isParseError(t)&&(geoXML3.log("XML parse error"),t="failed parse"),o(t)}geoXML3.fetchers.push(n)}},n.xhrtimeout=setTimeout(function(){geoXML3.log("XHR timeout"),o()},geoXML3.xhrTimeout),n.fetcher.send(null)):(geoXML3.log("Unable to create XHR object"),o(null))},geoXML3.nodeValue=function(e,o){var n="";if(!e)return null==o?"":o;if(3==e.nodeType||4==e.nodeType||2==e.nodeType)n+=e.nodeValue;else if(1==e.nodeType||9==e.nodeType||11==e.nodeType)for(var t=0;t<e.childNodes.length;++t)n+=arguments.callee(e.childNodes[t]);return n},ProjectedOverlay.prototype=new google.maps.OverlayView,ProjectedOverlay.prototype.createElement=function(){var e=this.getPanes(),o=this.div_;o||((o=this.div_=document.createElement("div")).style.position="absolute",o.setAttribute("id",this.id_),this.div_=o,this.lastZoom_=-1,this.percentOpacity_&&this.setOpacity(this.percentOpacity_),this.rotation_&&this.setRotation(this.rotation_),e.overlayLayer.appendChild(o))},ProjectedOverlay.prototype.remove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null,this.setMap(null))},ProjectedOverlay.prototype.draw=function(e){if(this.createElement(),this.div_){var o=this.get("projection").fromLatLngToDivPixel(this.bounds_.getSouthWest()),n=this.get("projection").fromLatLngToDivPixel(this.bounds_.getNorthEast());if(o&&n){this.div_.style.width=Math.abs(n.x-o.x)+"px",this.div_.style.height=Math.abs(n.y-o.y)+"px",this.div_.style.left=Math.min(n.x,o.x)+"px",this.div_.style.top=Math.min(n.y,o.y)+"px";var t=this.url_;this.addZ_&&(t+=this.addZ_+this.map_.getZoom()),this.div_.innerHTML='<img src="'+t+'"  width='+this.div_.style.width+" height="+this.div_.style.height+" >",this.lastZoom_!=this.map_.getZoom()&&(this.lastZoom_=this.map_.getZoom())}}},ProjectedOverlay.prototype.setOpacity=function(e){e<0&&(e=0),e>100&&(e=100);var o=e/100;"string"==typeof this.div_.style.filter&&(this.div_.style.filter="alpha(opacity:"+e+")"),"string"==typeof this.div_.style.KHTMLOpacity&&(this.div_.style.KHTMLOpacity=o),"string"==typeof this.div_.style.MozOpacity&&(this.div_.style.MozOpacity=o),"string"==typeof this.div_.style.opacity&&(this.div_.style.opacity=o)},ProjectedOverlay.prototype.setRotation=function(e){this.div_.style.webkitTransform="rotate("+e+"deg)",this.div_.style.mozTransform="rotate("+e+"deg)",this.div_.style.msTransform="rotate("+e+"deg)",this.div_.style.oTransform="rotate("+e+"deg)",this.div_.style.transform="rotate("+e+"deg)"};
