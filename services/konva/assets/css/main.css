:root { --b:#e2e8f0; --bg:#f8fafc; --text:#334155; }
* { box-sizing: border-box; }
body { font-family: system-ui, Arial; margin: 20px; background: var(--bg); color: var(--text); }
.row { display:flex; gap:12px; align-items:center; margin: 8px 0; flex-wrap: wrap; }
.toolbar { display:flex; gap:8px; align-items:center; margin: 10px 0; flex-wrap:wrap; }
.toolbar button { padding:8px 12px; border:1px solid #cbd5e1; background:#fff; border-radius:8px; cursor:pointer; }
.toolbar button.active { background:#e0f2fe; border-color:#38bdf8; }
.toolbar .right { margin-left:auto; }
.toolbar .sep { width:10px; }
#stageWrap { border:1px solid var(--b); border-radius:12px; overflow:hidden; width:100%; max-width:1100px; }
#canvas { width:100%; height:70vh; background:#fff; }
.panel { display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-top:12px; max-width:1100px; }
.card { border:1px solid var(--b); border-radius:12px; background:#fff; padding:12px; }
.card h4 { margin: 4px 0 8px; font-size:16px; }
pre, textarea {
    width:100%; border:1px solid var(--b); border-radius:8px; background:#0b1020; color:#d1e7ff;
    padding:10px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px;
}
.hint { font-size: 12px; color:#64748b; margin-top:6px; }

/* Dialog */
/* Dialog */
dialog { border:none; border-radius:12px; padding:0; width:min(480px, 92vw); }
#metaForm { padding:16px; }
#metaForm h3 { margin:0 0 10px; font-size:18px; }
#metaForm label { display:block; font-size:13px; color:#334155; margin:10px 0 6px; }
#metaForm input, #metaForm textarea {
    width:100%; border:1px solid #cbd5e1; border-radius:8px; padding:8px; font:inherit; background:#fff;
}
#metaForm .actions { display:flex; gap:8px; align-items:center; margin-top:12px; }
#metaForm .actions .spacer { flex:1; }
#metaForm .actions button { padding:8px 12px; border:1px solid #cbd5e1; background:#fff; border-radius:8px; cursor:pointer; }
#metaForm #metaSave { background:#16a34a; color:#fff; border-color:#16a34a; }
#metaForm #metaCancel { background:#fff; }
#metaForm #metaDelete.danger { background:#ef4444; color:#fff; border-color:#ef4444; }
dialog::backdrop { background: rgba(15, 23, 42, .25); }

.toolbar button:disabled { opacity:.45; cursor:not-allowed; }
